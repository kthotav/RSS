os: osx
osx_image: xcode10.1
language: swift

env: 
  LC_ALL=en_US.UTF-8
  LANG=en_US.UTF-8

cache: 
  directories: 
    - RSS/Carthage
    - RSS/bundler

before_install:
  - gem update --system
  - gem install bundler
  - brew install carthage || true
  - brew outdated carthage || brew upgrade carthage

install:
  - bundle install --jobs=3 --retry=3
  - bundle update fastlane

before_script:
  - cd RSS
  - carthage bootstrap --platform iOS --no-use-binaries --cache-builds

script:
  - bundle exec fastlane tests